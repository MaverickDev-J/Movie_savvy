schema: '2.0'
stages:
  preprocess:
    cmd: python rag_system/scripts/preprocess_data.py
    deps:
    - path: rag_system/config/rag_config.yaml
      hash: md5
      md5: 8c3bc746f59930417edf6c9ad674f5a6
      size: 3110
      isexec: true
    - path: rag_system/data/raw
      hash: md5
      md5: f02866c744a2380601b240d2cd476565.dir
      size: 781847791
      nfiles: 6
    - path: rag_system/scripts/preprocess_data.py
      hash: md5
      md5: 4c1be93f535badf90a02899c96329aa8
      size: 27010
      isexec: true
    outs:
    - path: rag_system/data/processed/metadata.json
      hash: md5
      md5: e66983690fce5e9adbffbd40b5bd57d7
      size: 10998066
    - path: rag_system/data/processed/processed_chunks.jsonl
      hash: md5
      md5: 69c29972fa7899c7e34693af93d3c9eb
      size: 1006955949
    - path: rag_system/data/processed/processing_stats.json
      hash: md5
      md5: 34c9b3d2963d7e499740ed070c65d133
      size: 321
  embed:
    cmd: python rag_system/retrieval/embedder.py
    deps:
    - path: rag_system/config/rag_config.yaml
      hash: md5
      md5: 8c3bc746f59930417edf6c9ad674f5a6
      size: 3110
      isexec: true
    - path: rag_system/data/processed/metadata.json
      hash: md5
      md5: d0a50a924dc6dbea9f88dd5e3e4b4d00
      size: 140503845
    - path: rag_system/data/processed/processed_chunks.jsonl
      hash: md5
      md5: 69c29972fa7899c7e34693af93d3c9eb
      size: 1006955949
    - path: rag_system/retrieval/embedder.py
      hash: md5
      md5: 3092e6af0086b98453e20c87f340f4dd
      size: 13385
      isexec: true
    outs:
    - path: rag_system/data/processed/embedding_stats.json
      hash: md5
      md5: 14be52aec1d0f7bea816e0bf4cf108e2
      size: 36
    - path: rag_system/data/processed/embeddings
      hash: md5
      md5: 73ccdceb410c6f619b721a3b32088cb9.dir
      size: 1935929088
      nfiles: 6
  build_index:
    cmd: python rag_system/scripts/build_index.py
    deps:
    - path: rag_system/data/processed/embeddings
      hash: md5
      md5: 73ccdceb410c6f619b721a3b32088cb9.dir
      size: 1935929088
      nfiles: 6
    - path: rag_system/data/processed/metadata.json
      hash: md5
      md5: 92d42e858f822fce86829b6a101f95ed
      size: 151266843
    - path: rag_system/data/processed/processed_chunks.jsonl
      hash: md5
      md5: 69c29972fa7899c7e34693af93d3c9eb
      size: 1006955949
    - path: rag_system/scripts/build_index.py
      hash: md5
      md5: 296ede7fc8ca8c633c34d1cda5e4488d
      size: 7062
      isexec: true
    outs:
    - path: rag_system/retrieval/index
      hash: md5
      md5: ad1c78d3427450a0c137083457fad227.dir
      size: 2010365141
      nfiles: 2
